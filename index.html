<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Altair Plots</title>
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      max-width: 1000px;
    }
    .chart {
      margin-bottom: 40px;
    }
    h2 {
      margin-top: 60px;
    }
    .links {
      margin-bottom: 30px;
    }
    a.button {
      display: inline-block;
      padding: 10px 15px;
      margin-right: 10px;
      background-color: #4CAF50;
      color: white;
      text-decoration: none;
      border-radius: 5px;
    }
  </style>
</head>
<body>

  <h1>My Altair Charts</h1>

  <div class="links">
    <a class="button" href="https://github.com/LianxinS/Lianxin_Shen/blob/main/building_inventory.csv" target="_blank">ðŸ“‚ The Data</a>
    <a class="button" href="https://github.com/LianxinS/Lianxin_Shen/blob/main/The%20Analysis.ipynb" target="_blank">ðŸ““ The Analysis</a>
  </div>

  <h2>Chart1</h2>
  <p>
    It is a bar chart which shows the number of buildings in different counties. I use nominal type for axis x and color and quantitative type for axis y.
    
    I used color='County:N' as an encoding, which means that the coloring is based on the county. We chose to color by county to distinguish the data from different counties by color. 
    This design helps to clearly show the number of buildings in different counties. Instead of using a specific colormap, Altair's default color scheme is used. 
    Altair automatically assigns a different color to each different county to enhance visual discrimination.
    Without the use of color or color maps, the chart may appear monotonous and ineffective in distinguishing between different counties.

    I did not do any explicit data transformation or preprocessing of the raw data. y=alt.Y('count():Q') indicates that the County field is counted, counting the number of buildings in each county. 
    This count is done automatically and no additional data transformation is required. Since we already have the County column in the data frame, Altair automatically calculates the number based on the number of occurrences for each county. 
    Therefore, no other complex transformations are applied at this step.

    There is no overlap between this visualization and the last assignment because I used a different dataset and a different visualization approach.
  </p>
  <div id="vis1" class="chart"></div>

  <h2>Chart2</h2>
  <p>
    This scatter plot visualizes the relationship between building square footage and the county in which the buildings are located. The X-axis represents the county where each building is situated, while the Y-axis shows the square footage of each building. Each point on the plot represents a building, and the color of the point corresponds to the year the building was constructed. This plot provides a view of how buildings' sizes vary across different counties and how construction years may influence the distribution of square footage across counties.

    The X-axis is encoded using County:N, a categorical variable representing the different counties. The Y-axis is encoded using Square Footage:Q, a quantitative variable representing the size of the buildings in square footage. Color is used to encode the Year Constructed:N variable, which allows us to differentiate the buildings by the year they were constructed. This helps to highlight how buildings constructed in different years are distributed across counties. The tooltip feature is also included, which shows additional information about each building, including its Agency Name, County, Square Footage, and Year Constructed when you hover over a data point.

    The color encoding used in this plot represents the Year Constructed variable. A distinct color is assigned to each construction year, which allows the user to visually distinguish buildings that were constructed in different years. The colormap is automatically generated by Altair based on the unique values in the Year Constructed column, ensuring that each year is assigned a different color. This helps to illustrate how the construction years are distributed across counties and provides a clearer view of how building size varies with respect to the year of construction.

    No significant data transformations were applied to this plot. The dataset was filtered to remove any records with a Year Constructed value of 0, as this would not be a valid year. Additionally, the Year Constructed column was sorted in ascending order to ensure the years appear in a logical, chronological sequence in the selection menu. Apart from these steps, no other transformations were necessary for this analysis.

    The interactive feature in this plot allows users to select a specific year of construction from a dropdown menu. By selecting a year, the user can filter the data and focus on buildings constructed in that specific year. This interactivity makes the plot more engaging and helps users better understand how buildings of different ages are distributed across counties. By clicking on different years in the dropdown, users can explore how the size of buildings, represented by square footage, varies within each county over time.
  </p>
  <div id="vis2" class="chart"></div>

  <script type="text/javascript">
    vegaEmbed('#vis1', 'chart1.json');
    vegaEmbed('#vis2', 'chart.json');
  </script>

</body>
</html>

